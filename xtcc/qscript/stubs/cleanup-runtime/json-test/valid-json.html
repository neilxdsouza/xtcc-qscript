<!doctype html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>NxD File: Emscripten-Generated Code</title>


    <!-- <link rel="stylesheet" href="style.css" media="screen"> -->
        <link rel="stylesheet" href="../js/dojo-release-1.9.0-src/dijit/themes/claro/claro.css" media="screen">
  </head>
  <body class="claro">

  <script type="text/javascript" src="../js/dojo-release-1.9.0-src/dojo/dojo.js" data-dojo-config="async: true"></script>

  <div id="result">
	  <div id="parse_output">
		 <form id="stubs_form">
			 <div id="stubs_form_div">
			 </div>
			<input id="checkBox" /> <label for="checkBox">I agree</label>
		 </form>
	  </div>
  </div>

  <script type="text/javascript">

	var jsontext = '{"firstname":"Jesper","surname":"Aaberg","phone":["555-0100","555-0120"]}';
	var contact = JSON.parse(jsontext);
	document.write(contact.surname + ", " + contact.firstname);


	var json_rep = '{ "agree_5": [ {"stub_text":"agree strongly","stub_code":5,"mask":1,"is_mutex":1} , {"stub_text":"agree somewhat","stub_code":4,"mask":1,"is_mutex":1} , {"stub_text":"Neutral","stub_code":3,"mask":1,"is_mutex":1} , {"stub_text":"Disagree ","stub_code":2,"mask":1,"is_mutex":1} , {"stub_text":"Disagree strongly","stub_code":1,"mask":1,"is_mutex":1} ] }';
	//alert("reached here");
	var res = JSON.parse(json_rep);
	//alert("reached here- 2");
	//alert("reached here- 3");
       /*
	var output="";
	for (i=0; i<res.agree_5.length; ++i) {
		output += res.agree_5[i].stub_text + ",";
		output += res.agree_5[i].stub_code + ",";
	}
	*/

	var doc_frag = document.createDocumentFragment();
	for (var i=0; i<res.agree_5.length; ++i) {
		var input   = document.createElement("input");
		input.type  = "radio";
		input.name  = "stub_response";
		input.value = res.agree_5[i].stub_code;
		input.id  = "agree_5_" + res.agree_5[i].stub_code;
		var input_label   = document.createElement("label");
		input_label.for =  "agree_5_" + res.agree_5[i].stub_code;
		input_label.innerHTML = res.agree_5[i].stub_text;
		doc_frag.appendChild(input);
		doc_frag.appendChild(input_label);
	}

	//var parse_output = document.getElementById("parse_output");
	//parse_output.innerHTML = output;
	//stubs_form_div.innerHTML = output;
	//alert("reached here- 4");

	var stubs_form_div = document.getElementById("stubs_form_div");
	stubs_form_div.appendChild(doc_frag);

	var json_rep2 = '{ "name" : "agree_5", "stubs" : [ {"stub_text":"agree strongly","stub_code":5,"mask":1,"is_mutex":1} , {"stub_text":"agree somewhat","stub_code":4,"mask":1,"is_mutex":1} , {"stub_text":"Neutral","stub_code":3,"mask":1,"is_mutex":1} , {"stub_text":"Disagree ","stub_code":2,"mask":1,"is_mutex":1} , {"stub_text":"Disagree strongly","stub_code":1,"mask":1,"is_mutex":1} ] }';
	var display_stubs = function (json_rep2) {

	var res2 = JSON.parse(json_rep2);

	var doc_frag2 = document.createDocumentFragment();
	//alert (res2.name);
	//alert (res2.stubs);
	for (var i=0; i<res2.stubs.length; ++i) {
		var input   = document.createElement("input");
		input.type  = "radio";
		input.name  = "stub_response";
		input.value = res2.stubs[i].stub_code;
		var id_text = res2.name + res2.stubs[i].stub_code;
		input.id  = id_text;
		alert ("id_text:" + id_text);
		var input_label   = document.createElement("label");
		input_label.for =  res2.name + res2.stubs[i].stub_code;
		input_label.innerHTML = res2.stubs[i].stub_text + "_nxd";
		doc_frag2.appendChild( document.createElement("p"));
		doc_frag2.appendChild(input);
		doc_frag2.appendChild(input_label);
	}

	var dojoConfig = {
		parseOnLoad : true,
		async: 1,
	};


		/*
		require([
		    "dojo/parser",
		    "dijit/form/RadioButton",
		    "dijit/form/Button", // used for example purpose
		    "dojo/domReady!"
		], function(parser, RadioButton){
		    parser.parse();
		    var radioOne = new RadioButton({
			checked: false,
			value: res2.stubs[0].stub_code,
			name: "stub_response",
		    }, res2.name + res2.stubs[0].stub_code);
		});

		require([
		    "dojo/parser",
		    "dijit/form/RadioButton",
		    "dijit/form/Button", // used for example purpose
		    "dojo/domReady!"
		], function(parser, RadioButton){
		    parser.parse();
		    var radioOne = new RadioButton({
			checked: false,
			value: res2.stubs[1].stub_code,
			name: "stub_response",
		    }, res2.name + res2.stubs[1].stub_code);
		});

		require([
		    "dojo/parser",
		    "dijit/form/RadioButton",
		    "dijit/form/Button", // used for example purpose
		    "dojo/domReady!"
		], function(parser, RadioButton){
		    parser.parse();
		    var radioOne = new RadioButton({
			checked: false,
			value: res2.stubs[2].stub_code,
			name: "stub_response",
		    }, res2.name + res2.stubs[2].stub_code);
		});

		require([
		    "dojo/parser",
		    "dijit/form/RadioButton",
		    "dijit/form/Button", // used for example purpose
		    "dojo/domReady!"
		], function(parser, RadioButton){
		    parser.parse();
		    var radioOne = new RadioButton({
			checked: false,
			value: res2.stubs[3].stub_code,
			name: "stub_response",
		    }, res2.name + res2.stubs[3].stub_code);
		});

		require([
		    "dojo/parser",
		    "dijit/form/RadioButton",
		    "dijit/form/Button", // used for example purpose
		    "dojo/domReady!"
		], function(parser, RadioButton){
		    parser.parse();
		    var radioOne = new RadioButton({
			checked: false,
			value: res2.stubs[4].stub_code,
			name: "stub_response",
		    }, res2.name + res2.stubs[4].stub_code);
		});
		*/

	var stubs_form_div = document.getElementById("stubs_form_div");
	stubs_form_div.appendChild(doc_frag2);


		/*
	for (var i=0; i<2;
		//res2.stubs.length; 
		++i) {
		alert("i="+i);
		alert( "stub_code: " + res2.stubs[i].stub_code);
		require([
		    "dojo/parser",
		    "dijit/form/RadioButton",
		    "dijit/form/Button", // used for example purpose
		    "dojo/domReady!"
		], function(parser, RadioButton){
		    parser.parse();
		    var radioOne = new RadioButton({
			checked: false,
			value: res2.stubs[i].stub_code,
			name: "stub_response",
		    }, res2.name + res2.stubs[i].stub_code);
		});

	}
		*/

		
		require([
		    "dojo/parser",
		    "dijit/form/RadioButton",
		    "dijit/form/Button", // used for example purpose
		    "dojo/domReady!"
		], function(parser, RadioButton){
			    parser.parse();
			    for (var i  = 0; i< res2.stubs.length; ++i ) {
			    var radioOne = new RadioButton({
				checked: false,
				value: res2.stubs[i].stub_code,
				name: "stub_response",
			    }, res2.name + res2.stubs[i].stub_code);

			}
		});
		


	};

	display_stubs(json_rep2);



	require(["dijit/form/CheckBox", "dojo/domReady!"], function(CheckBox){
	    var checkBox = new CheckBox({
		name: "checkBox",
		value: "agreed",
		checked: false,
		onChange: function(b){ alert('onChange called with parameter = ' + b + ', and widget value = ' + this.get('value') ); }
	    }, "checkBox");
	});

	/*
	var json_rep2 = {
    "agree_5": [
        {
            "stub_text": "agree strongly",
            "stub_code": 5,
            "mask": 1,
            "is_mutex": 1
        },
        {
            "stub_text": "agree somewhat",
            "stub_code": 4,
            "mask": 1,
            "is_mutex": 1
        },
        {
            "stub_text": "Neutral",
            "stub_code": 3,
            "mask": 1,
            "is_mutex": 1
        },
        {
            "stub_text": "Disagree ",
            "stub_code": 2,
            "mask": 1,
            "is_mutex": 1
        },
        {
            "stub_text": "Disagree strongly",
            "stub_code": 1,
            "mask": 1,
            "is_mutex": 1
        }
    ]
};
	var res = JSON.parse(json_rep2);
	var contact = JSON.parse(jsontext);
	*/

  </script>

</body>
